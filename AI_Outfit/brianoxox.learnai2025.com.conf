# <VirtualHost *:80>
#        ServerAdmin brianbabo26@gmail.com
#        ServerName brianoxox.learnai2025.com  

#        Alias /static /home/babomomo26/djangoBlog/public/assets

#        WSGIDaemonProcess django_blog python-path=/home/babomomo26/djangoBlog:/home/babomomo26/django_env/lib/python3.12/site-packages
#        WSGIProcessGroup django_blog
#        WSGIApplicationGroup %{GLOBAL}
#        WSGIScriptAlias / /home/babomomo26/djangoBlog/DjangoBlog/wsgi.py

#        <Directory "/home/babomomo26/djangoBlog">
#                 AllowOverride All
#                Require all granted
#        </Directory>

#        <Directory "/home/babomomo26/djangoBlog/DjangoBlog">
#                <Files wsgi.py>
#                        Require all granted
#                </Files>
#        </Directory>

#       <Directory "/home/babomomo26/djangoBlog/public/assets">
#                 AllowOverride All
#                 Require all granted
#        </Directory>

#        <Directory "/home/babomomo26/djangoBlog/static">
#                 AllowOverride All
#                 Require all granted
#        </Directory>

#        ErrorLog ${APACHE_LOG_DIR}/error-djangoBLOG.log
#        CustomLog ${APACHE_LOG_DIR}/access-djangoBLOG.log combined
# </VirtualHost>


<VirtualHost *:80>
    ServerAdmin brianbabo26@gmail.com
    ServerName brianoxox.learnai2025.com

    # 只做 HTTP -> HTTPS 轉向，避免重複 WSGIDaemonProcess 宣告
    Redirect permanent / https://brianoxox.learnai2025.com/
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin brianbabo26@gmail.com
    ServerName brianoxox.learnai2025.com

    Alias /static /home/babomomo26/djangoBlog/public/assets

    # WSGI 相關設定，只宣告一次
    WSGIDaemonProcess django_blog python-path=/home/babomomo26/djangoBlog:/home/babomomo26/django_env/lib/python3.12/site-packages
    WSGIProcessGroup django_blog
    WSGIApplicationGroup %{GLOBAL}
    WSGIScriptAlias / /home/babomomo26/djangoBlog/DjangoBlog/wsgi.py

    <Directory "/home/babomomo26/djangoBlog">
        AllowOverride All
        Require all granted
    </Directory>

    <Directory "/home/babomomo26/djangoBlog/DjangoBlog">
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    <Directory "/home/babomomo26/djangoBlog/public/assets">
        AllowOverride All
        Require all granted
    </Directory>

    <Directory "/home/babomomo26/djangoBlog/static">
        AllowOverride All
        Require all granted
    </Directory>

    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/brianoxox.learnai2025.com-0001/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/brianoxox.learnai2025.com-0001/privkey.pem
    Include /etc/letsencrypt/options-ssl-apache.conf

    ErrorLog ${APACHE_LOG_DIR}/error-djangoBLOG-ssl.log
    CustomLog ${APACHE_LOG_DIR}/access-djangoBLOG-ssl.log combined
</VirtualHost>


